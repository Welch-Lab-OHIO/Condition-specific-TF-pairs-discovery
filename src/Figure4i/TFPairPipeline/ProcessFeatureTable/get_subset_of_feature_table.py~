import pandas as pd
import sys
sd_master = pd.read_csv(sys.argv[1])

# prior1_tfs = sorted(list(set(pd.read_csv("TF_list_number_6.csv")["TF_list_6_nodups"].to_list())))
# prior1_tfs = sorted(list(set(pd.read_csv("/home/user1/OU/GradSchool/ResearchWork/MultiCondition_Project/LiamYingnan_Project/240327/Input/TF_list2.csv")["feature"].to_list())))
# prior1_tfs = sorted(list(set(pd.read_csv("/home/user1/OU/GradSchool/ResearchWork/MultiCondition_Project/LiamYingnan_Project/240801/Input/homer_tf_list_2_union.csv")["feature"].to_list())))
prior1_tfs = sorted(list(set(pd.read_csv(sys.argv[2])['feature'].to_list())))

def get_set_in_df(tf_list, df):
    selection = []
    for tf in tf_list:
        if tf in df.columns:
            selection.append(tf)
    return selection
prior1_selection = get_set_in_df(prior1_tfs, sd_master)

print("# of list 6 tfs in Hocomoco set:", len(prior1_selection), "out of", len(prior1_tfs))
prior1_selection.insert(0,"name")
def save_dfs(selection, sd_master,set_name):
    sd_master[selection].to_csv(sys.argv[3], index=False)
save_dfs(prior1_selection, sd_master,"list_6")
